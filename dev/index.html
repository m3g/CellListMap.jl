<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · CellListMap.jl</title><meta name="title" content="Overview · CellListMap.jl"/><meta property="og:title" content="Overview · CellListMap.jl"/><meta property="twitter:title" content="Overview · CellListMap.jl"/><meta name="description" content="Documentation for CellListMap.jl."/><meta property="og:description" content="Documentation for CellListMap.jl."/><meta property="twitter:description" content="Documentation for CellListMap.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img class="docs-light-only" src="assets/logo.svg" alt="CellListMap.jl logo"/><img class="docs-dark-only" src="assets/logo-dark.svg" alt="CellListMap.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>CellListMap.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#The-naive-double-loop"><span>The naive double loop</span></a></li><li><a class="tocitem" href="#Quick-start:-computing-neighbor-lists"><span>Quick start: computing neighbor lists</span></a></li><li><a class="tocitem" href="#General-pairwise-computations"><span>General pairwise computations</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Help!"><span>Help!</span></a></li></ul></li><li><a class="tocitem" href="neighborlists/">Neighbor lists</a></li><li><a class="tocitem" href="ParticleSystem/introduction/">ParticleSystem</a></li><li><a class="tocitem" href="ParticleSystem/single_set_simple/">Single set: Simple outputs</a></li><li><a class="tocitem" href="ParticleSystem/single_set_compound/">Single set: Compound outputs</a></li><li><a class="tocitem" href="ParticleSystem/two_sets/">Two sets of particles</a></li><li><a class="tocitem" href="ParticleSystem/updating/">Updating the system</a></li><li><a class="tocitem" href="ParticleSystem/options/">Options</a></li><li><a class="tocitem" href="ParticleSystem/examples/">Complete examples</a></li><li><a class="tocitem" href="unitcell/">Unitcell requirements</a></li><li><a class="tocitem" href="ecosystem/">Ecosystem integration</a></li><li><a class="tocitem" href="API/">Public Interface</a></li><li><a class="tocitem" href="citation/">Citation</a></li><li><a class="tocitem" href="migrating/">Migrating from 0.9</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/m3g/CellListMap.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/m3g/CellListMap.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CellListMap.jl"><a class="docs-heading-anchor" href="#CellListMap.jl">CellListMap.jl</a><a id="CellListMap.jl-1"></a><a class="docs-heading-anchor-permalink" href="#CellListMap.jl" title="Permalink"></a></h1><p><a href="https://github.com/m3g/CellListMap.jl">CellListMap.jl</a> implements an efficient cell list scheme for the computation of interactions, neighbor lists, or any other property dependent on the distances between pairs of two- or three-dimensional particles, within a cutoff. </p><p>The package provides an interface to compute a generic function for each pair of particles closer  than a cutoff, using general periodic boundary conditions. Parallel and serial implementations can be used. </p><h2 id="The-naive-double-loop"><a class="docs-heading-anchor" href="#The-naive-double-loop">The naive double loop</a><a id="The-naive-double-loop-1"></a><a class="docs-heading-anchor-permalink" href="#The-naive-double-loop" title="Permalink"></a></h2><p><code>CellListMap</code> is a package that implements a fast scheme for computing properties of systems of particles in 2 or 3 dimensions, within a cutoff. In brief, it is designed to replace double loops running over the pairs of particles of a system. Naively, a loop over all pair of particles is written as:</p><pre><code class="language-julia hljs">for i in 1:N
    for j in i+1:N
        # compute distance, possibly considering periodic boundary conditions
        d = distance(particle[i],particle[j]) 
        if d &lt;= cutoff 
            # compute property dependent on d
        end
    end
end</code></pre><p>where <code>N</code> is the number of particles. </p><p>Alternatively, if the interaction is between two disjoint sets of particles, the naive loop is</p><pre><code class="language-julia hljs">for i in 1:N 
    for j in 1:M
        # compute distance, possibly considering periodic boundary conditions
        d = distance(first_set[i], second_set[j])
        if d &lt;= cutoff
            # compute property dependent on d
        end
    end
end</code></pre><p>where <code>N</code> and <code>M</code> are the numbers of particles of each set. If the cutoff is significantly smaller than the dimension of the system, these loops are very expensive, and it is possible to avoid looping over particles that are farther from each other than the cutoff.</p><p>CellListMap implements an efficient and parallel cell-list method, with optimizations, to substitute such double-loops while taking into account periodic boundary conditions. Cell lists are an alternative to distance trees and are particularly effective when the distribution of the particles is roughly homogeneous. For highly heterogeneous systems distance trees like those implemented in <a href="https://github.com/KristofferC/NearestNeighbors.jl">NearestNeighbors.jl</a> might be more performant.</p><h2 id="Quick-start:-computing-neighbor-lists"><a class="docs-heading-anchor" href="#Quick-start:-computing-neighbor-lists">Quick start: computing neighbor lists</a><a id="Quick-start:-computing-neighbor-lists-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-start:-computing-neighbor-lists" title="Permalink"></a></h2><p>The simplest use case of <code>CellListMap</code> is to compute the list of neighboring particles within a cutoff distance. This can be implemented as a particular usage case of <code>CellListMap</code>, but given its generality it is provided as an independent interface: the <code>neighborlist</code> function:</p><p>An example of the application of the <code>neighborlist</code> function follows:</p><pre><code class="language-julia-repl hljs">julia&gt; using CellListMap

julia&gt; x = rand(3, 10_000); # 10,000 particles in 3D

julia&gt; neighborlist(x, 0.05) # cutoff of 0.05
209452-element Vector{Tuple{Int64, Int64, Float64}}:
 (1, 1055, 0.04770602450750023)
 (1, 1261, 0.048087995599677004)
 ⋮
 (9989, 8269, 0.0442616226498007)
 (9989, 6452, 0.042189574206507035)</code></pre><p>Each element of the list is a tuple <code>(i, j, d)</code> containing the indices of the particles and their distance.</p><p><code>CellListMap</code> supports general periodic boundary conditions, by providing the unitcell as vector (for orthorhombic systems) or a unitcell matrix (for general triclinic systems):</p><pre><code class="language-julia-repl hljs">julia&gt; neighborlist(x, 0.05; unitcell=[1,1,1]) # periodic box of side 1
305006-element Vector{Tuple{Int64, Int64, Float64}}:
 (1, 1055, 0.04770602450750023)
 ⋮</code></pre><p>See the <a href="neighborlists/#Neighbor-lists">Neighbor lists</a> section for more details, including in-place computations for iterative workflows.</p><div class="admonition is-info" id="Note-b52dbc40ad5100bf"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-b52dbc40ad5100bf" title="Permalink"></a></header><div class="admonition-body"><p>The downside of explicitly computing neighbor lists is that it implies storing the list of neighbors. This can be memory consuming and slow in situations where a property can be computed by iterating over the neighbors without materializing the neighbor lists. <code>CellListMap</code> is designed to provide this alternative.</p></div></div><h2 id="General-pairwise-computations"><a class="docs-heading-anchor" href="#General-pairwise-computations">General pairwise computations</a><a id="General-pairwise-computations-1"></a><a class="docs-heading-anchor-permalink" href="#General-pairwise-computations" title="Permalink"></a></h2><p>For more general pairwise computations (energies, forces, etc.) without the materialization of the neighbor lists, the <code>ParticleSystem</code> interface provides a flexible way to define custom functions that are applied to all pairs of particles within the cutoff, and reducing an output value. See the <a href="ParticleSystem/introduction/#ParticleSystem-interface">ParticleSystem interface</a> section for details.</p><p>A concise example is the computation of the sum of the inverse of the distance between particles:</p><pre><code class="language-julia-repl hljs">julia&gt; using CellListMap

julia&gt; x = rand(3, 10_000); # 10,000 particles in 3D

julia&gt; sys = ParticleSystem(positions=x, cutoff=0.05, unitcell=[1,1,1], output=0.0)

julia&gt; pairwise!((pair, u) -&gt; u += 1/pair.d, sys)
792925.6234732079</code></pre><p>Note that in the above example the <code>pairwise</code> method is actually performing a <code>pairwise</code> operation, where the output value <code>u</code> is summed up over all neighboring pairs of particles. </p><p>If you are familiar with Julia, the <code>do</code> syntax also provides a readable format for the <code>pairwise!</code> application:</p><pre><code class="language-julia-repl hljs">julia&gt; pairwise!(sys) do pair, u 
    u += 1/pair.d
end
792925.6234732079</code></pre><p>The <code>pairwise!</code> method mutates the <code>sys.output</code> field, which stores the result of the computation:</p><pre><code class="language-julia-repl hljs">julia&gt; sys.output
777632.9459487279</code></pre><p>Using initial values, customizing the field name, computing general compound properties, and mapping functions to disjoint sets of particles is possible. </p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>This is a <a href="http://julialang.org">Julia</a> package. Install <code>Julia</code> first following the instructions in the <a href="https://julialang.org/downloads/">download page</a>.</p><p>Once Julia is installed, install the <code>CellListMap</code> package from the Julia REPL with:</p><pre><code class="language-julia-repl hljs">julia&gt; import Pkg

julia&gt; Pkg.add(&quot;CellListMap&quot;)</code></pre><h2 id="Help!"><a class="docs-heading-anchor" href="#Help!">Help!</a><a id="Help!-1"></a><a class="docs-heading-anchor-permalink" href="#Help!" title="Permalink"></a></h2><p>Please ask for help if having any difficulty using the package. Reach us by:</p><ul><li>Asking a question on the <a href="https://discourse.julialang.org/">Julia Discourse forum</a>. Please mark <code>@lmiq</code> on your post, otherwise we may miss it! This may be very effective to get help from  many Julia users on questions that might not be directly related this package.</li><li><a href="https://github.com/m3g/CellListMap.jl/issues/new/choose">Opening an issue</a> if you think you found a problem in the package. Even documentation problems can be reported.</li><li>Joining us at Zulip-chat in the <a href="https://julialang.zulipchat.com/#narrow/stream/435348-m3g">m3g stream</a> of the Julia Zulip forum.</li><li>Sending an e-mail to: <a href="mailto:lmartine@unicamp.br?subject=&quot;CellListMap.jl help&quot;">lmartine@unicamp.br</a>.</li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="neighborlists/">Neighbor lists »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 4 February 2026 20:05">Wednesday 4 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
